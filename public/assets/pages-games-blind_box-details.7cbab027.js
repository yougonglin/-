import{r as t,o as e,c as i,w as s,q as a,t as o,L as l,e as n,i as r,a as p,x as d,y as c,j as x,A as h,E as g,I as u,X as y,b,d as f,F as m,z as w}from"./index-93e08a2b.js";import{_}from"./n-icon.3d1c4127.js";import{r as k}from"./uni-app.es.4a85af97.js";import{m as S}from"./props.e7779fd1.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as z}from"./n-bg-view.98391b2e.js";import{z as j}from"./z-image.699da878.js";import{_ as T}from"./uni-popup.3ddebe78.js";import{_ as v}from"./n-button.3162a993.js";import{a as L,c as I,d as B}from"./games.2df69b02.js";/* empty css                                                                */const A=C({__name:"n-notice",props:S([["show",!1],"icon","text","indicator","bgType",["height","base"],"border","radius",["textType","text"],["textSize","base"],["iconType","text"],["iconSize","l"],"iconStyle",["indicatorType","text"],["indicatorSize","l"],"indicatorStyle",["space","12rpx"],"textStyle","boxStyle","iconBoxStyle","indicatorBoxStyle",["closable",!1],"boxClass","iconClass","iconBoxClass","textClass","indicatorClass","indicatorBoxClass"]),emits:["noticeClicked","indicatorClicked"],setup(g,{expose:u,emit:y}){const b=g;u({show:function(){f.value=!0},hide:function(){f.value=!1}});const f=t(b.show);function m(t){t.stopPropagation&&t.stopPropagation(),y("noticeClicked")}function w(){b.closable?f.value=!1:y("indicatorClicked")}return(t,g)=>{const u=k(x("n-icon"),_),y=h,b=r;return f.value?(e(),i(b,{key:0,class:a(["n-flex-row","n-align-center","n-bg-"+t.bgType,"n-height-"+t.height,"n-border-"+t.border,"n-radius-"+t.radius,t.boxClass||"n-noticebar"]),style:o(t.boxStyle),bubble:"true",onClick:l(m,["stop"])},{default:s((()=>[t.icon?(e(),i(u,{key:0,name:t.icon,type:t.iconType,size:t.iconSize,iconStyle:t.iconStyle,boxStyle:"margin-right:"+t.space+";"+t.iconBoxStyle,iconClass:t.iconClass,boxClass:t.iconBoxClass,onIconClicked:m},null,8,["name","type","size","iconStyle","boxStyle","iconClass","boxClass"])):n("",!0),p(y,{class:a(["n-flex-1","n-lines-1","n-size-"+t.textSize,"n-color-"+t.textType,t.textClass]),style:o(t.textStyle)},{default:s((()=>[d(c(t.text),1)])),_:1},8,["class","style"]),t.indicator?(e(),i(u,{key:1,name:t.indicator,type:t.indicatorType,size:t.indicatorSize,iconStyle:t.indicatorStyle,boxStyle:"margin-left:"+t.space+";"+t.indicatorBoxStyle,iconClass:t.indicatorClass,boxClass:t.indicatorBoxClass,onIconClicked:w},null,8,["name","type","size","iconStyle","boxStyle","iconClass","boxClass"])):n("",!0)])),_:1},8,["class","style","onClick"])):n("",!0)}}},[["__scopeId","data-v-5a412234"]]);const P=C({components:{zImage:j},data:()=>({goodsList:[],manghe:[],popupShow:!1,mangheId:0,h:0,sh:0,animation:1,boxAnimation:"box-rotate",num:0,resultList:[],probability:[{title:"普通",shadowColor:"#9d85ff",img:'url("/static/blind_box/tag-2.png")'},{title:"稀有",shadowColor:"#47a8ff",img:'url("/static/blind_box/tag-1.png")'},{title:"史诗",shadowColor:"#feb337",img:'url("/static/blind_box/tag-3.png")'},{title:"传说",shadowColor:"#fe615e",img:'url("/static/blind_box/tag-4.png")'}],tryText:!0}),methods:{image:t=>JSON.parse(t)[0],get_grade:t=>["/static/blind_box/pt.png","/static/blind_box/xy.png","/static/blind_box/ss.png","/static/blind_box/cs.png"][t-1],go_goods(t){g({url:"/pages/shop/mall/details?id="+t})},open(){this.$refs.popup.open()},create_order(t){this.tryText=!1,this.$refs.zhongjiangPopup.open(),this.num=t,this.animation=1,this.boxAnimation="box-rotate",L(this.mangheId,t).then((t=>{t.data.data?(this.resultList=Object.assign([],t.data.data),setTimeout((()=>{this.boxAnimation="box-bz",setTimeout((()=>{this.animation=0}),300)}),1500)):(this.$refs.zhongjiangPopup.close(),u({title:"提示",content:"您的余额不足,请先充值！",confirmText:"立即充值",success:function(t){t.confirm&&g({url:"/pages/user/recharge/index"})}}))}))},close(){this.$refs.zhongjiangPopup.close()},blind_box_try(){this.tryText=!0,this.$refs.zhongjiangPopup.open(),this.num=1,this.animation=1,this.boxAnimation="box-rotate",I(this.mangheId).then((t=>{this.resultList=Object.assign([],t.data.data),setTimeout((()=>{this.boxAnimation="box-bz",setTimeout((()=>{this.animation=0}),300)}),1500)}))}},onLoad(t){this.mangheId=t.id,B(t.id).then((t=>{this.goodsList=Object.assign([],t.data.data.list),this.manghe=Object.assign([],t.data.data.manghe)}))},onReady(){let t=y().windowHeight;this.sh=.495*t,this.h=t}},[["render",function(t,l,g,u,y,S){const C=k(x("n-notice"),A),L=w,I=h,B=k(x("n-icon"),_),P=r,F=k(x("n-bg-view"),z),O=k(x("z-image"),j),$=k(x("uni-popup"),T),E=k(x("n-button"),v);return e(),i(P,{class:"",style:{"padding-bottom":"128rpx"}},{default:s((()=>[p(F,{src:"/static/blind_box/bj.jpg",boxStyle:"width: 750rpx;height: 1050rpx;",imageStyle:"width: 750rpx;height: 1050rpx;"},{default:s((()=>[p(C,{show:!0,ref:"n-notice",bgType:"error",text:"平均抽9次就能出一次史诗!运气好?一发入魂！",textType:"inverse",style:{width:"750rpx",position:"absolute","text-align":"center"}},null,512),p(P,{class:"",style:{display:"flex","justify-content":"center",position:"absolute",top:"316rpx",width:"750rpx","text-align":"center","flex-flow":"column"}},{default:s((()=>[p(L,{id:"pic",src:y.manghe.image,mode:"aspectFit",style:{width:"380rpx",height:"380rpx","margin-left":"185rpx","padding-bottom":"88rpx"}},null,8,["src"]),p(P,null,{default:s((()=>[p(I,{style:{"font-size":"1.4rem","font-weight":"800"}},{default:s((()=>[d(c(y.manghe.price)+"元/个",1)])),_:1}),p(I,{style:{margin:"20rpx","font-size":"1.6rem",display:"block"}},{default:s((()=>[d("开箱必中以下宝贝之一")])),_:1}),p(P,{class:""},{default:s((()=>[p(B,{name:"/static/blind_box/bottom-top-center.png",type:"error",size:"ll",id:"bicon"})])),_:1}),p(I,{style:{margin:"12rpx","font-size":"0.6rem",display:"block"}},{default:s((()=>[d("未成年人请在家长的监督下使用；8岁以下未成年人禁止购买")])),_:1})])),_:1})])),_:1})])),_:1}),p(P,{class:"n-ps-top-base n-ps-bottom-base",style:{"background-color":"#404040",display:"flex","justify-content":"space-between","flex-flow":"row"}},{default:s((()=>[p(P,{class:"",style:{"background-color":"#696969","border-radius":"0 26rpx 0 0",padding:"32rpx",width:"168rpx",color:"white","align-self":"center","margin-right":"26rpx"}},{default:s((()=>[p(I,null,{default:s((()=>[d("获得概率")])),_:1})])),_:1}),p(P,{class:"n-ms-right-base n-radius-base",style:{padding:"12rpx","background-color":"#4a4a4a",width:"520rpx",display:"flex","flex-flow":"row","justify-content":"space-around"}},{default:s((()=>[p(P,{class:"",style:{width:"88rpx","text-align":"center"}},{default:s((()=>[p(L,{src:"/assets/cs-5765c38c.png",mode:"",style:{width:"88rpx",height:"88rpx"}}),p(I,{style:{color:"white",width:"88rpx"},class:"n-ms-top-s"},{default:s((()=>[d(c(y.manghe.explosive)+"%",1)])),_:1})])),_:1}),p(P,{class:"",style:{width:"88rpx","text-align":"center"}},{default:s((()=>[p(L,{src:"/assets/ss-0faffaeb.png",mode:"",style:{width:"88rpx",height:"88rpx"}}),p(I,{style:{color:"white",width:"88rpx"},class:"n-ms-top-s"},{default:s((()=>[d(c(y.manghe.legend)+"%",1)])),_:1})])),_:1}),p(P,{class:"",style:{width:"88rpx","text-align":"center"}},{default:s((()=>[p(L,{src:"/assets/xy-96e94b29.png",mode:"",style:{width:"88rpx",height:"88rpx"}}),p(I,{style:{color:"white",width:"88rpx"},class:"n-ms-top-s"},{default:s((()=>[d(c(y.manghe.rare)+"%",1)])),_:1})])),_:1}),p(P,{class:"",style:{width:"88rpx","text-align":"center"}},{default:s((()=>[p(L,{src:"/assets/pt-0535f724.png",mode:"",style:{width:"88rpx",height:"88rpx"}}),p(I,{style:{color:"white",width:"88rpx"},class:"n-ms-top-s"},{default:s((()=>[d(c(y.manghe.normal)+"%",1)])),_:1})])),_:1})])),_:1})])),_:1}),(e(!0),b(m,null,f(y.goodsList,((t,a)=>(e(),i(P,{class:"",style:{}},{default:s((()=>[(e(),i(P,{class:"n-radius-base",style:{"background-color":"white",padding:"26rpx","box-shadow":"0 0 3px 2px #f1f0f0",margin:"26rpx"},key:a,onClick:e=>S.go_goods(t.product_id)},{default:s((()=>[p(L,{src:S.get_grade(t.type),mode:"",style:{width:"88rpx",height:"88rpx"}},null,8,["src"]),p(P,{class:"",style:{display:"flex","flex-flow":"row"}},{default:s((()=>[p(P,{class:"",style:{width:"256rpx",margin:"26rpx"}},{default:s((()=>[p(O,{src:S.image(t.image),mode:"scaleToFill",style:{width:"256rpx",height:"256rpx"}},null,8,["src"])])),_:2},1024),p(P,{class:"",style:{padding:"26rpx"}},{default:s((()=>[p(I,{class:"n-lines-5 n-size-base",style:{width:"300rpx"}},{default:s((()=>[d(c(t.goods_name),1)])),_:2},1024),p(I,{style:{"font-weight":"800",color:"#ff495d","font-size":"1.2rem","margin-top":"20rpx",display:"block"}},{default:s((()=>[d("￥"+c(t.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]))])),_:2},1024)))),256)),p(P,{style:{position:"fixed",bottom:"0",display:"flex","flex-flow":"row",padding:"16rpx","justify-content":"space-around",width:"750rpx","background-color":"white"}},{default:s((()=>[p(P,{style:{width:"104rpx"},onClick:S.blind_box_try},{default:s((()=>[p(L,{src:"/assets/swmhan-d36bd68b.png",mode:"aspectFit",style:{height:"84rpx",width:"104rpx"}})])),_:1},8,["onClick"]),p(F,{src:"/static/blind_box/khan.png",imageStyle:"width: 520rpx;height: 84rpx;",boxStyle:"width: 520rpx;height: 84rpx;"},{default:s((()=>[p(P,{class:"",style:{position:"absolute","z-index":"99999",width:"520rpx","text-align":"center","margin-top":"16rpx"},onClick:S.open},{default:s((()=>[p(I,{style:{color:"white","font-size":"1.2rem","font-weight":"800"},id:"btn-name"},{default:s((()=>[d("立即开箱")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),p($,{ref:"popup",type:"bottom"},{default:s((()=>[p(P,{class:"pc-tabs-h",style:{"background-color":"white",width:"750rpx",height:"550rpx","border-radius":"16rpx 16rpx 0 0","padding-top":"2rpx"}},{default:s((()=>[p(P,{style:{display:"flex","flex-flow":"row",width:"750rpx",margin:"auto"}},{default:s((()=>[p(F,{src:"/static/blind_box/btn-1.png",imageStyle:"width: 368rpx;height: 114rpx;",boxStyle:"margin: 32rpx;margin-left: 191rpx;width: 368rpx;height: 114rpx;text-align: center;display:block;"},{default:s((()=>[p(P,{class:"n-position-absolute",onClick:l[0]||(l[0]=t=>S.create_order(1)),style:{"z-index":"99999","text-align":"center","margin-top":"30rpx",width:"368rpx"}},{default:s((()=>[p(I,{style:{color:"white","text-shadow":"0 0 6px #696969","font-size":"1.3rem","font-weight":"800"}},{default:s((()=>[d("一发入魂")])),_:1})])),_:1})])),_:1})])),_:1}),p(P,{class:"",style:{display:"flex","flex-flow":"row",width:"750rpx","justify-content":"space-around",margin:"auto"}},{default:s((()=>[p(F,{src:"/static/blind_box/btn-3.png",imageStyle:"width: 352rpx;height: 104rpx;",boxStyle:"width: 352rpx;height: 104rpx;text-align: center;"},{default:s((()=>[p(P,{class:"n-position-absolute",onClick:l[1]||(l[1]=t=>S.create_order(5)),style:{"z-index":"99999","text-align":"center","margin-top":"26rpx",width:"368rpx"}},{default:s((()=>[p(I,{style:{color:"white","text-shadow":"0 0 6px #696969","font-size":"1.3rem","font-weight":"800"}},{default:s((()=>[d("五连绝世")])),_:1})])),_:1})])),_:1}),p(F,{src:"/static/blind_box/btn-2.png",imageStyle:"width: 352rpx;height: 104rpx;",boxStyle:"width: 352rpx;height: 104rpx;text-align: center;"},{default:s((()=>[p(P,{class:"n-position-absolute",onClick:l[2]||(l[2]=t=>S.create_order(9)),style:{"z-index":"99999","text-align":"center","margin-top":"26rpx",width:"368rpx"}},{default:s((()=>[p(I,{style:{color:"white","text-shadow":"0 0 6px #696969","font-size":"1.3rem","font-weight":"800"}},{default:s((()=>[d("霸气九连")])),_:1})])),_:1})])),_:1})])),_:1}),p(P,{class:"",style:{"text-align":"center","margin-top":"26rpx"}},{default:s((()=>[p(I,{style:{display:"block"}},{default:s((()=>[d("商品抽奖存在概率，付费需谨慎")])),_:1}),p(I,{style:{display:"block",margin:"12rpx"}},{default:s((()=>[d("100%中奖概率分别如下")])),_:1}),p(I,{style:{display:"block"}},{default:s((()=>[d("普通("+c(y.manghe.normal)+"%)/稀有("+c(y.manghe.rare)+"%)/史诗("+c(y.manghe.legend)+"%)/传说("+c(y.manghe.explosive)+"%)",1)])),_:1}),p(I,{style:{display:"block",margin:"12rpx"}},{default:s((()=>[d("不包邮/回收率为10%/不可退款/不可提现")])),_:1})])),_:1})])),_:1})])),_:1},512),p($,{ref:"zhongjiangPopup",type:"center","is-mask-click":!1},{default:s((()=>[p(F,{src:"/static/blind_box/bg.jpg",imageStyle:"width: 750rpx;height:"+y.h+"px;",boxStyle:"height:"+y.h+"px;width: 750rpx;display: flex;justify-content:center;"},{default:s((()=>[p(P,{style:o([{width:"650rpx","align-self":"center",display:"flex","flex-flow":"row","flex-wrap":"wrap",position:"absolute","z-index":"99999"},{minHeight:y.sh+"px",justifyContent:1==y.num?"center":"space-around"}])},{default:s((()=>[y.animation?(e(),i(P,{key:0,class:a([y.boxAnimation]),style:{width:"368rpx",height:"368rpx","background-size":"cover"}},null,8,["class"])):(e(),b(m,{key:1},[1==y.num?(e(),i(P,{key:0,class:"n-radius-base n-position-relative",style:o([{boxShadow:"0 0 22px 9px "+y.probability[y.resultList[0].type-1].shadowColor},{"background-color":"white",height:"368rpx"}])},{default:s((()=>[p(P,{style:o([{backgroundImage:y.probability[y.resultList[0].type-1].img},{"z-index":"999",top:"0",left:"0","background-size":"cover",width:"184rpx",height:"184rpx"}]),class:"n-position-absolute"},{default:s((()=>[p(I,{class:"text1"},{default:s((()=>[d(c(y.probability[y.resultList[0].type-1].title),1)])),_:1})])),_:1},8,["style"]),p(O,{class:"n-radius-base",src:S.image(y.resultList[0].image),mode:"scaleToFill",style:{width:"368rpx",height:"368rpx"}},null,8,["src"])])),_:1},8,["style"])):(e(!0),b(m,{key:1},f(y.resultList,((t,a)=>(e(),i(P,{class:"n-radius-base n-position-relative",style:o([{boxShadow:"0 0 22px 9px "+y.probability[t.type-1].shadowColor},{"background-color":"white","margin-bottom":"26rpx",height:"200rpx"}])},{default:s((()=>[p(P,{style:o([{backgroundImage:y.probability[t.type-1].img},{"z-index":"999",top:"0",left:"0","background-size":"cover",width:"100rpx",height:"100rpx"}]),class:"n-position-absolute"},{default:s((()=>[p(I,{class:"text9"},{default:s((()=>[d(c(y.probability[t.type-1].title),1)])),_:2},1024)])),_:2},1032,["style"]),p(O,{class:"n-radius-base",src:S.image(t.image),mode:"scaleToFill",style:{width:"200rpx",height:"200rpx"}},null,8,["src"])])),_:2},1032,["style"])))),256)),p(P,{class:"",style:{display:"flex","flex-flow":"row","justify-content":"space-around",width:"600rpx","margin-top":"58rpx"}},{default:s((()=>[p(E,{onButtonClicked:l[3]||(l[3]=t=>S.close()),boxStyle:"width:200rpx",bgType:"success",textType:"inverse",border:"none",text:"重新选择"}),p(E,{onButtonClicked:l[4]||(l[4]=t=>S.create_order(y.num)),boxStyle:"width:200rpx",bgType:"error",textType:"inverse",border:"none",text:"继续连抽"})])),_:1}),y.tryText?(e(),i(P,{key:2,style:{"text-align":"center",color:"white","margin-top":"26rpx"}},{default:s((()=>[p(I,null,{default:s((()=>[d("本次抽奖仅供试玩，不产生真实订单")])),_:1})])),_:1})):n("",!0)],64))])),_:1},8,["style"])])),_:1},8,["imageStyle","boxStyle"])])),_:1},512)])),_:1})}],["__scopeId","data-v-e6a6f012"]]);export{P as default};
