import{l as e,o as t,c as l,w as s,q as a,u as d,t as c,L as i,i as x,v as o,a as r,x as y,y as b,A as T,r as n,m as g,b as p,d as u,F as S,e as C,j as B}from"./index-93e08a2b.js";import{m}from"./props.e7779fd1.js";import{r as h}from"./uni-app.es.4a85af97.js";import{a as v}from"./n-icon.3d1c4127.js";const f={__name:"n-tag",props:m([["text","",[Number,String]],["value","",[Number,String]],["selected",!1],["disabled",!1],"bgType","selectedBgType",["textType","text"],["selectedTextType","text"],["disabledTextType","disabled"],["textSize","base"],["height","base"],["border","all"],["selectedBorder","all"],["radius","base"],["space","16rpx"],"textStyle","selectedTextStyle","disabledTextStyle","boxStyle","selectedBoxStyle","disabledBoxStyle","boxClass","textClass","selectedTextClass","disabledTextClass","selectedBoxClass","disabledBoxClass"]),emits:["tagClicked"],setup(n,{emit:g}){const p=n,u=e((()=>p.selected?p.selectedBorder:p.border)),S=e((()=>p.selected?p.selectedBgType:p.bgType)),C=e((()=>p.selected?p.disabled?p.disabledTextType?p.disabledTextType:p.selectedBgType?"inverse":"":p.selectedTextType?p.selectedTextType:p.selectedBgType?"inverse":"":p.disabled?p.disabledTextType?p.disabledTextType:p.bgType?"inverse":"":p.textType?p.textType:p.bgType?"inverse":"")),B=e((()=>{let e=`padding-left:${p.space};padding-right:${p.space};`;return e+=p.boxStyle,p.selected&&(e+=p.selectedBoxStyle),p.disabled&&(e+=p.disabledBoxStyle),e})),m=e((()=>{let e=p.textStyle;return p.selected&&(e+=p.selectedTextStyle),p.disabled&&(e+=p.disabledTextStyle),e})),h=e((()=>{let e=p.boxClass;return p.selected&&(e+=" "+p.selectedBoxClass),p.disabled&&(e+=" "+p.disabledBoxClass),e})),v=e((()=>{let e=p.textClass;return p.selected&&(e+=" "+p.selectedTextClass),p.disabled&&(e+=" "+p.disabledTextClass),e}));function f(e){p.disabled||g("tagClicked",{selected:p.selected,value:p.value}),e.stopPropagation&&e.stopPropagation()}return(e,n)=>{const g=T,p=x;return t(),l(p,{class:a(["n-flex-row","n-justify-center","n-align-center","n-height-"+e.height,"n-bg-"+d(S),"n-border-"+d(u),"n-radius-"+e.radius,e.disabled&&"n-disabled",d(h)]),style:c(d(B)),onClick:i(f,["stop"])},{default:s((()=>[o(e.$slots,"default",{},(()=>[r(g,{class:a(["n-size-"+e.textSize,"n-color-"+d(C),d(v)]),style:c(d(m))},{default:s((()=>[y(b(e.text),1)])),_:1},8,["class","style"])])),o(e.$slots,"extra")])),_:3},8,["class","style","onClick"])}}},k={__name:"n-tag-group",props:m([["items",[]],["value",[]],["limits",0],["leastOne",!1],["column",0],["rowSpace","16rpx"],["columnSpace","16rpx"],["disabled",!1],"textLabel","valueLabel","disabledLabel","bgType","border","radius","boxStyle","dyBoxStyle","tagBgType","tagSelectedBgType",["tagTextType","text"],["tagSelectedTextType","text"],["tagTextSize","base"],["tagHeight","base"],["tagBorder","all"],["tagSelectedBorder","all"],["tagRadius","base"],["tagSpace","16rpx"],"textStyle","selectedTextStyle","disabledTextStyle","tagStyle","selectedTagStyle","disabledTagStyle",["updateTime",0],"boxClass","dyBoxClass","textClass","selectedTextClass","disabledTextClass","tagClass","selectedTagClass","disabledTagClass"]),emits:["update:value","change","overed"],setup(i,{emit:o}){const y=i,b=n([]),T=e((()=>y.textLabel||"title")),m=e((()=>y.valueLabel||"value")),k=e((()=>y.disabledLabel||"disabled")),L=e((()=>{if(0===y.column)return b.value;const e=b.value.length,t=v(b.value,y.column),l=e%y.column;if(0!==l){const s=Math.ceil(e/y.column)-1;for(let e=0;e<y.column-l;e++)t[s].push(null)}return t}));function _(e){const t=b.value[e],l=!t["n-checked"];if(y.limits>1&&l&&y.value&&y.value.length>=y.limits)return void o("overed");1===y.limits&&l&&1===y.value.length&&b.value.forEach((e=>{e["n-checked"]=!1})),1===y.limits&&y.leastOne?t["n-checked"]=!0:t["n-checked"]=l;const s=[];b.value.forEach((e=>{e["n-checked"]&&s.push(e[m.value])})),o("update:value",s),o("change",{vals:s,index:e})}function w(){const e=[];y.items&&y.items.forEach(((t,l)=>{const s=y.valueLabel?t[y.valueLabel]:t;let a=!1;for(const e in y.value||[]){if(y.value[e]===s){a=!0;break}}y.textLabel?e.push({[y.textLabel]:t[y.textLabel],[y.valueLabel]:t[y.valueLabel],[y.disabledLabel]:t[y.disabledLabel],"n-checked":a}):e.push({title:t,value:t,disabled:!1,"n-checked":a})})),b.value=e}return w(),g((()=>y.items),(()=>{w()})),g((()=>y.updateTime),(()=>{w()})),(e,i)=>{const o=h(B("n-tag"),f),y=x;return t(),l(y,{class:a(["n-bg-"+e.bgType,"n-border-"+e.border,"n-radius-"+e.radius,e.boxClass]),style:c(e.boxStyle)},{default:s((()=>[0===e.column?(t(),l(y,{key:0,class:a(["n-flex-row","n-wrap-wrap",e.dyBoxClass]),style:c(e.dyBoxStyle)},{default:s((()=>[(t(!0),p(S,null,u(b.value,((a,i)=>(t(),l(y,{key:i,style:c({"margin-right":i!==b.value.length-1?e.columnSpace:"0","margin-bottom":e.rowSpace})},{default:s((()=>[r(o,{text:a[d(T)],value:a[d(m)],disabled:e.disabled||a[d(k)],selected:a["n-checked"],bgType:e.tagBgType,selectedBgType:e.tagSelectedBgType,textType:e.tagTextType,selectedTextType:e.tagSelectedTextType,height:e.tagHeight,textSize:e.tagTextSize,border:e.tagBorder,selectedBorder:e.tagSelectedBorder,radius:e.tagRadius,space:e.tagSpace,textStyle:e.textStyle,selectedTextStyle:e.selectedTextStyle,disabledTextStyle:e.disabledTextStyle,boxStyle:e.tagStyle,selectedBoxStyle:e.selectedTagStyle,disabledBoxStyle:e.disabledTagStyle,textClass:e.textClass,selectedTextClass:e.selectedTextClass,disabledTextClass:e.disabledTextClass,boxClass:e.tagClass,selectedBoxClass:e.selectedTagClass,disabledBoxClass:e.disabledTagClass,onTagClicked:e=>_(i)},null,8,["text","value","disabled","selected","bgType","selectedBgType","textType","selectedTextType","height","textSize","border","selectedBorder","radius","space","textStyle","selectedTextStyle","disabledTextStyle","boxStyle","selectedBoxStyle","disabledBoxStyle","textClass","selectedTextClass","disabledTextClass","boxClass","selectedBoxClass","disabledBoxClass","onTagClicked"])])),_:2},1032,["style"])))),128))])),_:1},8,["class","style"])):C("",!0),0!==e.column?(t(),l(y,{key:1},{default:s((()=>[(t(!0),p(S,null,u(d(L),((a,i)=>(t(),l(y,{key:i,class:"n-flex-row n-wrap-nowrap",style:c({"margin-bottom":i!==d(L).length-1?e.rowSpace:"0"})},{default:s((()=>[(t(!0),p(S,null,u(a,((x,r)=>(t(),l(y,{key:r,class:"n-flex-1",style:c({"margin-right":r!==a.length-1?e.columnSpace:"0"})},{default:s((()=>[x?(t(),l(o,{key:0,text:x[d(T)],value:x[d(m)],disabled:e.disabled||x[d(k)],selected:x["n-checked"],bgType:e.tagBgType,selectedBgType:e.tagSelectedBgType,textType:e.tagTextType,selectedTextType:e.tagSelectedTextType,height:e.tagHeight,textSize:e.tagTextSize,border:e.tagBorder,selectedBorder:e.tagSelectedBorder,radius:e.tagRadius,space:e.tagSpace,textStyle:e.textStyle,selectedTextStyle:e.selectedTextStyle,disabledTextStyle:e.disabledTextStyle,boxStyle:e.tagStyle,selectedBoxStyle:e.selectedTagStyle,disabledBoxStyle:e.disabledTagStyle,textClass:e.textClass,selectedTextClass:e.selectedTextClass,disabledTextClass:e.disabledTextClass,boxClass:e.tagClass,selectedBoxClass:e.selectedTagClass,disabledBoxClass:e.disabledTagClass,onTagClicked:t=>_(i*e.column+r)},null,8,["text","value","disabled","selected","bgType","selectedBgType","textType","selectedTextType","height","textSize","border","selectedBorder","radius","space","textStyle","selectedTextStyle","disabledTextStyle","boxStyle","selectedBoxStyle","disabledBoxStyle","textClass","selectedTextClass","disabledTextClass","boxClass","selectedBoxClass","disabledBoxClass","onTagClicked"])):C("",!0)])),_:2},1032,["style"])))),128))])),_:2},1032,["style"])))),128))])),_:1})):C("",!0)])),_:1},8,["class","style"])}}};export{k as _};
