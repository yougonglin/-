import{r as e,l as t,g as a,o as i,c as s,w as l,i as n,a as o,b as r,d as c,F as u,u as d,Q as p,S as m,j as g,E as _,h as v,k as f}from"./index-93e08a2b.js";import{_ as h}from"./n-grid-static.16b36c84.js";import{a as b,r as j}from"./uni-app.es.4a85af97.js";import{_ as x}from"./n-tabs-h.5c030a13.js";import{_ as y,a as k}from"./n-list.b9d584d3.js";import{z as C}from"./z-image.699da878.js";import{a as T}from"./albumCommentCell.1861fcfc.js";import{t as w}from"./util.84ba036b.js";import{_ as F}from"./_plugin-vue_export-helper.1b428a4d.js";import"./n-icon.3d1c4127.js";import"./props.e7779fd1.js";import"./n-badge.17d08f78.js";import"./system.0fbb2200.js";import"./usePager.62d200ee.js";/* empty css                                                                */const S=F({__name:"index",setup(F){let S=e([]);const E=t((()=>e=>e.length?e[0]:"/static/ui/bg.jpeg")),I=t((()=>(e,t,a)=>{let i=[];return e.price&&i.push({title:"含付费内容",action:1}),""!=t&&i.push({title:"含音频",action:1}),""!=a&&i.push({title:"含视频",action:1}),i}));let z=e(1);function L(e){z.value=e}const D=e([]);let H=e([]);function P(e){w(e.item.url)}let U=e(0),A=e(null);function J(){U.value++,p(z.value+1,U.value).then((e=>{e.data.data.length?(U.value>1?S.value=S.value.concat(e.data.data):S.value=e.data.data,A.value.nEndSuccess(!0)):A.value.nEndSuccess(!1)})).catch((e=>{console.log(e),A.value.nEndError()}))}function K(e){console.log(e)}function M(){v({title:"无法关注匿名用户",icon:"none"})}return b((e=>{let t=setInterval((()=>{a().globalData.config&&(D.value=a().globalData.config.star.indexSwiperItems,clearInterval(t))}),100)})),(e,t)=>{const a=f,p=m,v=j(g("n-grid-static"),h),b=j(g("n-tabs-h"),x),F=n,U=j(g("n-list-cell"),y),N=j(g("n-list"),k);return i(),s(F,{class:""},{default:l((()=>[o(p,{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:3e3},{default:l((()=>[(i(!0),r(u,null,c(D.value,((e,t)=>(i(),s(a,{onClick:t=>{return a=e.url,void w(a);var a}},{default:l((()=>[o(C,{src:e.img,mode:"scaleToFill",class:"swiper-item"},null,8,["src"])])),_:2},1032,["onClick"])))),256))])),_:1}),o(v,{onItemClicked:P,hasLine:!1,border:"none",items:d(H),columns:4,isIcon:!0,iconLabel:"icon",iconType:"error",iconSize:"ll",textLabel:"name",space:"24rpx",itemHeight:"160rpx",boxStyle:"background-color:#FFFFFF;"},null,8,["items"]),o(b,{tabsStyle:"width: 100% !important;width:750rpx;",class:"pc-tabs-h",justify:"center",isTap:!0,delay:50,value:d(z),items:["关注","最新","热门","精选"],width:"168",indicatorWidth:"168rpx",indicatorHeight:"6rpx",onChange:L,indicatorType:"error",activeTextType:"error"},null,8,["value"]),o(N,{ref_key:"nlist",ref:A,autoUpdate:!0,onDown:J,onUp:J},{default:l((()=>[(i(!0),r(u,null,c(d(S),((e,t)=>(i(),s(U,{key:e.id},{default:l((()=>[o(T,{onRight_btn_click:M,onTags_click:K,onContent_click:t=>{return a=e.id,void _({url:"/pages/star/article/details?id="+a});var a},onCover_click:t=>{return a=e.uid,void console.log(a);var a},cover:"",username:"匿名用户",createTime:e.create_time,img:d(E)(e.imgs),title:e.content,tags:d(I)(e.file_info,e.audio,e.video)},null,8,["onContent_click","onCover_click","createTime","img","title","tags"]),o(F,{style:{height:"16rpx"}})])),_:2},1024)))),128))])),_:1},512)])),_:1})}}},[["__scopeId","data-v-beeccf09"]]);export{S as default};
