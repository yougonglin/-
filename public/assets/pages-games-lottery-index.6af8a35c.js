import{o as t,c as e,w as a,v as l,a as s,q as n,t as r,i,I as o,E as p,h as d,x as g,b as c,d as u,F as y,j as h,A as b}from"./index-93e08a2b.js";import{_ as m}from"./n-tabs-h.5c030a13.js";import{r as x}from"./uni-app.es.4a85af97.js";import{_ as f}from"./n-tag-group.1b61e480.js";import{_}from"./n-button.3162a993.js";import{_ as S}from"./n-icon.3d1c4127.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as j}from"./uni-list-chat.b2b5c8a2.js";import{_ as v}from"./uni-list.59733bbb.js";import{g as T,e as C,f as B}from"./games.2df69b02.js";import"./n-badge.17d08f78.js";import"./props.e7779fd1.js";import"./system.0fbb2200.js";const k=w({__name:"n-timeline-item",props:{bgType:{type:String,default:""},border:{type:String,default:""},radius:{type:String,default:""},centerStyle:{type:String,default:""},lineBgType:{type:String,default:"border"},lineStyle:{type:String,default:""},boxStyle:{type:String,default:""},centerClass:{type:String,default:""},lineClass:{type:String,default:""},boxClass:{type:String,default:""}},setup:o=>(p,d)=>{const g=i;return t(),e(g,{class:n(["n-flex-row","n-wrap-nowrap","n-bg-"+o.bgType,"n-border-"+o.border,"n-radius-"+o.radius,o.boxClass]),style:r(o.boxStyle)},{default:a((()=>[l(p.$slots,"left",{},void 0,!0),s(g,{class:n(["n-position-relative","n-flex-column","n-align-center",o.centerClass]),style:r(o.centerStyle)},{default:a((()=>[s(g,{class:n([o.lineClass||"n-timeline-line","n-bg-"+o.lineBgType]),style:r(o.lineStyle)},null,8,["class","style"]),l(p.$slots,"badge",{},void 0,!0)])),_:3},8,["class","style"]),l(p.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])}},[["__scopeId","data-v-af7a758e"]]);const D=w({data:()=>({current:0,page:1,logData:[],typeData:[],oneSelect:[0]}),methods:{toChangeTab(t){this.current=t,1==this.current&&(this.page=1,T(this.page).then((t=>{this.logData=Object.assign([],t.data.data.log)})))},build_order(){C(this.oneSelect[0]).then((t=>{switch(t.data.data){case-1:d({title:"管理员不得参与游戏"});break;case 0:o({title:"提示",content:"您的余额不足,请先充值！",confirmText:"立即充值",success:function(t){t.confirm&&p({url:"/pages/user/recharge/index"})}});break;default:o({title:"提示",content:"订单创建成功，可在记录中查看。预计60秒内可抢到银币，请耐心等待..."})}}))}},onLoad(){B().then((t=>{let e=[];for(var a=0;a<t.data.data.length;a++)e.push({title:t.data.data[a]+"/次",type:a});this.typeData=Object.assign([],e)}))},onReachBottom(){1==this.current&&(this.page++,T(this.page).then((t=>{this.logData=this.logData.concat(t.data.result.log)})))}},[["render",function(l,n,r,o,p,d){const w=x(h("n-tabs-h"),m),T=x(h("n-tag-group"),f),C=x(h("n-button"),_),B=x(h("n-icon"),S),D=i,z=b,L=x(h("n-timeline-item"),k),O=x(h("uni-list-chat"),j),$=x(h("uni-list"),v);return t(),e(D,{class:""},{default:a((()=>[s(w,{tabsStyle:"width: 100% !important;width:750rpx;",class:"pc-tabs-h",justify:"center",isTap:!0,delay:50,value:p.current,items:["抢银币","抽取记录"],width:"228rpx",indicatorWidth:"100rpx",indicatorHeight:"6rpx",indicatorStyle:"bottom:12rpx;",onChange:d.toChangeTab},null,8,["value","onChange"]),0==p.current?(t(),e(D,{key:0,style:{"margin-top":"26rpx"}},{default:a((()=>[s(T,{value:p.oneSelect,"onUpdate:value":n[0]||(n[0]=t=>p.oneSelect=t),limits:1,column:3,items:p.typeData,textLabel:"title",valueLabel:"type",disabledLabel:"disabled",bgType:"none",leastOne:!0,tagSelectedBgType:"error",tagSelectedTextType:"inverse",boxStyle:"margin-left:32rpx;margin-right:32rpx;"},null,8,["value","items"]),s(C,{onButtonClicked:d.build_order,bgType:"error",textType:"inverse",border:"none",text:"立即抢",style:{margin:"26rpx"}},null,8,["onButtonClicked"]),s(L,{lineBgType:"primary",centerStyle:"width:52rpx;",boxStyle:"margin-left:32rpx;width:686rpx;"},{badge:a((()=>[s(D,{class:"n-bg-inverse n-radius-ll n-border-all-warning",style:{position:"absolute",width:"52rpx",height:"52rpx",top:"0",left:"0","align-items":"center","justify-content":"center"}},{default:a((()=>[s(B,{name:"radio-button",type:"error"})])),_:1})])),right:a((()=>[s(D,{style:{"margin-left":"18rpx"}},{default:a((()=>[s(z,{class:"n-size-l n-color-text",style:{"line-height":"52rpx"}},{default:a((()=>[g("玩法说明")])),_:1}),s(z,{class:"n-size-base n-color-second n-lh-base",style:{"margin-top":"12rpx",width:"624rpx"}},{default:a((()=>[g("任选一档开抢，百分百获得银币，档位越高抢到越高银币的概率越大。比如选择100/次，则可随机获得1~500银币。")])),_:1}),s(D,{style:{height:"56rpx"}})])),_:1})])),_:1}),s(L,{lineBgType:"primary",centerStyle:"width:52rpx;",boxStyle:"margin-left:32rpx;width:686rpx;"},{badge:a((()=>[s(D,{class:"n-bg-inverse n-radius-ll n-border-all-warning",style:{position:"absolute",width:"52rpx",height:"52rpx",top:"0",left:"0","align-items":"center","justify-content":"center"}},{default:a((()=>[s(B,{name:"radio-button",type:"error"})])),_:1})])),right:a((()=>[s(D,{style:{"margin-left":"18rpx"}},{default:a((()=>[s(z,{class:"n-size-l n-color-text",style:{"line-height":"52rpx"}},{default:a((()=>[g("银币说明")])),_:1}),s(z,{class:"n-size-base n-color-second n-lh-base",style:{"margin-top":"12rpx",width:"624rpx"}},{default:a((()=>[g("银币仅可用于APP相关功能使用，比如升级会员等级等。银币不可参与抽奖，不可兑换现金，不可赠送，不可兑换实物或其他公司虚拟货币")])),_:1}),s(D,{style:{height:"56rpx"}})])),_:1})])),_:1}),s(L,{lineBgType:"primary",centerStyle:"width:52rpx;",boxStyle:"margin-left:32rpx;width:686rpx;"},{badge:a((()=>[s(D,{class:"n-bg-inverse n-radius-ll n-border-all-warning",style:{position:"absolute",width:"52rpx",height:"52rpx",top:"0",left:"0","align-items":"center","justify-content":"center"}},{default:a((()=>[s(B,{name:"radio-button",type:"error"})])),_:1})])),right:a((()=>[s(D,{style:{"margin-left":"18rpx"}},{default:a((()=>[s(z,{class:"n-size-l n-color-text",style:{"line-height":"52rpx"}},{default:a((()=>[g("常见问题")])),_:1}),s(z,{class:"n-size-base n-color-second n-lh-base",style:{"margin-top":"12rpx",width:"624rpx"}},{default:a((()=>[g("问：为什么我的银币数据不对，还变少了。")])),_:1}),s(z,{class:"n-size-base n-color-second n-lh-base",style:{"margin-top":"12rpx",width:"624rpx"}},{default:a((()=>[g("答：抢银币时如果银币充足，会优先扣除银币，不足时才会扣除余额进行活动。比如你选择了100/次，抢到300银币。你的银币原本有500。所以你最后的银币是500-100+300 = 600.余额不变")])),_:1}),s(D,{style:{height:"56rpx"}})])),_:1})])),_:1})])),_:1})):(t(),e(D,{key:1},{default:a((()=>[s($,{border:!1},{default:a((()=>[(t(!0),c(y,null,u(p.logData,((a,l)=>(t(),e(O,{key:a.id,clickable:!0,avatar:"/static/logo.png",title:a.num+"/次",note:"获得:"+a.points+"银币",time:a.create_time,badgeText:0==a.status?"结算中,请稍后...":"已完成"},null,8,["title","note","time","badgeText"])))),128))])),_:1})])),_:1}))])),_:1})}]]);export{D as default};
