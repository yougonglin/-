import{r as e,l as t,D as s,o,c as l,w as a,i as n,a as i,u as r,e as d,b as u,d as p,F as f,h as c,aG as m,E as x,j as y,G as h,x as _,y as g,A as w}from"./index-93e08a2b.js";import{_ as b}from"./n-tabs-h.5c030a13.js";import{a as j,b as v,r as k}from"./uni-app.es.4a85af97.js";import{_ as z}from"./n-rolling.47d43719.js";import{_ as C,a as T}from"./n-list.b9d584d3.js";import{_ as S}from"./n-button.3162a993.js";import{_ as V}from"./n-result.c5a152c5.js";import{_ as D}from"./uni-popup-dialog.b8b7735f.js";import{_ as E}from"./uni-popup.3ddebe78.js";import{_ as A}from"./mCheckbox.0955c5e4.js";import{h as B,i as G,j as L,r as U}from"./shop.2af922b6.js";import"./n-badge.17d08f78.js";import"./props.e7779fd1.js";import"./system.0fbb2200.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./usePager.62d200ee.js";import"./n-icon.3d1c4127.js";const W={__name:"subsidy",setup(W){let F=e(0),H=e(1),I=e([]),J=e([]);const K=e(null),M=e(null);let N=e(0),O=e(null);function P(e){(e=e.trim())?N.value?G(e).then((e=>{c({title:e.data.data,icon:"none",duration:5e3})})):L(e).then((e=>{c({title:e.data.data,icon:"none",duration:5e3})})):c({title:"您没有输入任何订单",icon:"error"})}function X(e){F.value=e,H.value=1,q(!1)}function q(e){B(H.value,F.value).then((t=>{e?t.data.data.length?(I.value=I.value.concat(t.data.data),O.value.nEndSuccess(!0)):O.value.nEndSuccess(!1):I.value=t.data.data})).catch((e=>{console.log(e)}))}const Q=t((()=>e=>m(e,"-")));function R(){U().then((e=>{c({title:e.data.data,icon:"none",duration:5e3})}))}function Y(){x({url:"/pages/shop/subsidy/index"})}function Z(){H.value++,q(!0)}return j((e=>{q(!1)})),v((()=>{s({itemList:["抖音订单录入","快手订单录入"],success:e=>{N.value=e.tapIndex,K.value.open()}})})),(e,t)=>{const s=k(y("n-tabs-h"),b),c=k(y("n-rolling"),z),m=w,x=n,j=k(y("n-list-cell"),C),v=k(y("n-list"),T),B=k(y("n-button"),S),G=k(y("n-result"),V),L=k(y("uni-popup-dialog"),D),U=k(y("uni-popup"),E);return o(),l(x,{class:""},{default:a((()=>[i(s,{tabsStyle:"width: 100% !important;width:750rpx;",class:"pc-tabs-h",justify:"center",isTap:!0,delay:50,value:r(F),items:["所有订单","待领取","已领取"],width:"250",indicatorWidth:"250rpx",indicatorHeight:"6rpx",onChange:X,indicatorType:"error",activeTextType:"error"},null,8,["value"]),0==r(F)?(o(),l(c,{key:0,duration:8e3,auto:!0,boxStyle:"width:750rpx;",text:"抖音/快手下单后,大约三分钟内系统会同步订单.如果没有同步,请点击右上角录入",textType:"success"})):d("",!0),0!=r(I).length?(o(),l(v,{key:1,down:null,ref_key:"nlist",ref:O,style:{"background-color":"white"},onUp:Z},{default:a((()=>[(o(!0),u(f,null,p(r(I),((e,s)=>(o(),l(j,{key:e.id},{default:a((()=>[i(A,{"is-check-list":!1,modelValue:r(J),"onUpdate:modelValue":t[0]||(t[0]=e=>h(J)?J.value=e:J=e),id:e.id,isCheck:e.isCheck,title:e.title,image:e.image},{body:a((()=>[i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("id：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(e.order_id),1)])),_:2},1024)])),_:2},1024),i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("购买数量：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(e.num)+"件",1)])),_:2},1024)])),_:2},1024),i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("购买价格：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(e.payment_fee/100)+"元",1)])),_:2},1024)])),_:2},1024),i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("平台手续费：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(e.tech_service_amount/100)+"元",1)])),_:2},1024)])),_:2},1024),i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("补贴红包：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(e.estimated_income/100)+"元",1)])),_:2},1024)])),_:2},1024),i(x,{class:"n-flex-row n-justify-between n-ms-top-ll"},{default:a((()=>[i(m,{style:{"font-size":"24rpx"}},{default:a((()=>[_("下单时间：")])),_:1}),i(m,{style:{"font-weight":"800",color:"#ff495d","font-size":"24rpx"}},{default:a((()=>[_(g(r(Q)(e.create_time)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue","id","isCheck","title","image"])])),_:2},1024)))),128))])),_:1},512)):d("",!0),1==r(F)&&0==r(I).length?(o(),l(G,{key:2,icon:"hongbao-solid",iconStyle:"font-size:100rpx;",title:"暂时没有可领取的奖励",desc:"请在购物确认收货7天后来此领取红包奖励。",titleStyle:"padding:22rpx;",descStyle:"margin-top:12rpx;margin-bottom:32rpx;padding:88rpx;padding-top:0rpx;text-align:center;"},{extra:a((()=>[i(B,{onButtonClicked:Y,bgType:"error",text:"立即去购物",textType:"inverse",radius:"ll",boxStyle:"width:320rpx;height:72rpx;"})])),_:1})):d("",!0),1==r(F)?(o(),l(x,{key:3,style:{position:"fixed",bottom:"0",display:"flex","flex-flow":"row",padding:"16rpx","justify-content":"space-around",width:"750rpx","background-color":"white"}},{default:a((()=>[i(x,{class:"n-flex-row",style:{width:"520rpx",height:"84rpx"}},{default:a((()=>[i(B,{onButtonClicked:R,style:{flex:"1"},bgType:"success",textType:"inverse",border:"none",text:"领取补贴",boxStyle:"width:230rpx"})])),_:1})])),_:1})):d("",!0),i(U,{ref_key:"inputDialog",ref:K,type:"dialog"},{default:a((()=>[i(L,{ref_key:"inputClose",ref:M,mode:"input",title:"编号在(抖音/快手)购买记录里查看",placeholder:"请输入您的抖音或快手的商品订单编号",onConfirm:P},null,512)])),_:1},512)])),_:1})}}};export{W as default};
