import{J as t,K as e,h as a,o as s,c as o,w as i,i as n,a as l,x as d,y as c,e as r,L as p,A as h,z as A,M as f,N as u,O as B,P as g}from"./index-93e08a2b.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const k=m({data:()=>({version:"1.0.0",percent:0,updateBtn:!0,cancleBtn:!1,downloadedSize:0,packageFileSize:0,data:{describe:"1. 修复已知问题<br>2. 优化用户体验",edition_url:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-6bef1fe3-e3e3-4909-9f0c-6ed9bd11c93b/aae2360a-6628-4c93-b873-ce1600b9a852.apk",edition_force:1,package_type:0,edition_name:"1.0.1"}}),onHide(){this.data.edition_force=0,t({delta:1})},onLoad({obj:t}){this.data=JSON.parse(t),0==this.data.edition_force&&(this.cancleBtn=!0),plus.runtime.getProperty(plus.runtime.appid,(t=>{this.version=t.version}))},onBackPress(){if(1==this.data.edition_force)return!0},methods:{cancel(){t({delta:1})},confirm(){0==this.data.package_type?this.data.edition_url.includes(".apk")?(this.updateBtn=!1,this.cancleBtn=!1,this.download()):(this.data.edition_force=0,plus.runtime.openURL(this.data.edition_url),t({delta:1})):(this.updateBtn=!1,this.cancleBtn=!1,this.download())},download(){let s=this.data.package_type,o=this;e({url:this.data.edition_url,success:e=>{200===e.statusCode&&(plus.runtime.install(e.tempFilePath,{force:!0},(function(){1==s&&plus.runtime.restart()}),(function(e){o.data.edition_force=0,a({title:e.message,icon:"none",duration:2500}),setTimeout((()=>{t()}),2e3)})),0==s&&(this.data.edition_force=0,t()))}}).onProgressUpdate((t=>{this.percent=t.progress,this.downloadedSize=(t.totalBytesWritten/Math.pow(1024,2)).toFixed(2),this.packageFileSize=(t.totalBytesExpectedToWrite/Math.pow(1024,2)).toFixed(2)}))}}},[["render",function(t,e,a,m,k,b){const M=h,S=n,x=A,R=f,N=u,y=B,P=g;return s(),o(S,{class:"update-mask flex-center"},{default:i((()=>[l(S,{class:"content botton-radius"},{default:i((()=>[l(S,{class:"content-top"},{default:i((()=>[l(S,{class:"content-top-text"},{default:i((()=>[l(M,{class:""},{default:i((()=>[d("发现新版本 v"+c(k.data.edition_name),1)])),_:1}),l(M,{class:"version"},{default:i((()=>[d("当前版本："+c(k.version),1)])),_:1})])),_:1}),l(x,{class:"content-top",style:{top:"0"},width:"100%",height:"100%",src:"/assets/bg_top-c2efba28.png"})])),_:1}),l(S,{class:"content-header"}),l(S,{class:"content-body"},{default:i((()=>[l(S,{class:"title"},{default:i((()=>[l(M,null,{default:i((()=>[d("更新内容")])),_:1})])),_:1}),l(S,{class:"body"},{default:i((()=>[l(N,{class:"box-des-scroll","scroll-y":"true"},{default:i((()=>[l(R,{nodes:k.data.describe},null,8,["nodes"])])),_:1})])),_:1}),l(S,{class:"footer flex-center"},{default:i((()=>[k.updateBtn?r("",!0):(s(),o(S,{key:0,class:"progress-box flex-column"},{default:i((()=>[l(y,{class:"progress","border-radius":"35",percent:k.percent,activeColor:"#3DA7FF","show-info":"","stroke-width":"10"},null,8,["percent"]),l(S,null,{default:i((()=>[l(M,{class:"fs24"},{default:i((()=>[d("正在下载，请稍后 ("+c(k.downloadedSize)+"/"+c(k.packageFileSize)+"M)",1)])),_:1})])),_:1})])),_:1})),k.updateBtn?(s(),o(P,{key:1,class:"content-button",style:{border:"none",color:"#fff"},plain:"",onClick:b.confirm},{default:i((()=>[d("立即升级")])),_:1},8,["onClick"])):r("",!0)])),_:1})])),_:1}),k.cancleBtn?(s(),o(x,{key:0,class:"close-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAnFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+TINBkAAAAM3RSTlMAgFXmHxhrdiTt4YoLk47HMtu7+atRtoZwZc2yn/Jgey3TWUym1Zc8vj9DAzk2864pEEbPyVnCAAAIKklEQVR42tSa6XLiQAyEG/B9YQNhgXAFCFkI5Nh5/3fbWtZjGeIQGFtm+P4kVeSgkUYtaQweXj8ebD8cv3faT57b7breU7vzPg59++HjFfeBsbWifiLOkPQja2tAZz6sd1dciNsbOtARZzhOxJUk4UKzyGyjkVCkHW2hCY7dFqVo2xokWbDodcUZDgXrULrO/lRvEeCWvESeKKTVCa1N7JhBTrLpxBsr7LREIV70glux6IuvTPr+dPeJM3zupn6/qLr1F7gBgdX+GodHO8aFzK3e19i0rQD1YsyS09To2TtcSTxYnaZmMjNQH/PIPQnFeglFluuTwLjRHPUQ/Do5FatFUK7wrSbiiF8BaqB57H2PQxOlMYePIs+oCW6c8VH9D2NURBweOc3YAStWSxBv1WbzPHoTRMsCHy99Qbi+g4pxfFcQfTaHtAXRahhgwGjkQ26DA3MliLUBJoy1IFYmKmf5nCsqD2DkIVcWn5eomBl/mS82qlm18e6JjM4G7Gw6IqNnVBjshGx8gFoYkNknlSXyVGT83qMm9r9FhoVKsESG/4raePVzp7Ja9/CaqJWmRx0LShPRqXNQM06PbB4leWSwWaV0GKEUWblyl7gJD1n1aqEE5LAxbsSWmi8ok/2Ntomb4TxnhgJFRtkUCEb430efat+NybwxggLjzAVxc8ISpTPrQENogK/crVhZdwUtyPJjemX5Jh/ShMyZH3AFRiL9A9rQlkXYwOX0pJtqcAMjMaWf9K6fayfa3Ir9I3avnX6XlI5akb2v5ZUxtKEZtjy5Ji5hleWidsizu7pGtqfRQZc43uXJ8iJSmtCQpkh5+dl49OmwivAvbYSHsjPR9CGeV9kJD3EWM0kdZA9N2U9Sgzcv2pkMoC2DS2aTrdzvQmPkXnh7wVC4gcZsfl51WdmGUmt+/TRkmandjAJoTTBKLdtEMQ09e8Xvx74GCjHTNdYa2rNOxyXzXEBamj1mWITROhMSM3vxDmhQSL57zb2DgACG++2nbra0bhZP8SkkxQF503AKKcJ5o5AUBiTCnRBRSIpase4cd8K8W9zedjRa9F5GWNjfzsV/YtwNsfjPHHlmWtzoKG2DZ0WL1SHuiHQqbxesTiYm1DDiAIoEewNqmBNaqJx0+CuoEao/+WJ56lcwq6/T05M4sChzxddU75lCKLEQB56Q8Sc1lwAqGKobPZqADKgQpCb+59Ql1+XqoGiq6hD7UmNJdFqzllAi8ETKQlFHEpS6Z2if5IZX/oGuhZIO9dnaO87MJtUsNRqkROWXmmWvGabHR2QABiWsOmAfH+4R9VkMShh1YEd3z3REWgCDEk4d9PySkT8iPTAoYdVBjeM0X40tVKVkWpsO2PnnlxLq6xmUsOpAnHOOT3HABRiUMOkg0g74k1r4PhiUsOtAn1r5Ke2zGJQw64BP/46+ZVDCrIPCQBVsBwYl7Dqwo2XDMx0XBiXMOvBJ3k6+XrWSIbsO8nbgg/ZcDEqYddBm8UMOJyFYlDDroIXjUpq8BR4lvDpoqrNl9d2ASQmrDrp192VoYnAp4dRB3VYonwx2wKaEVQcc2f++iwMm+JRw6oApDrzL8hWAUQmjDgTSPtqHr11IOJQw6CC66W7rKTeNcCtpggE3XQB7csRioFGDDikgE8RCg1+HTKksxXhosOuQh7w+IRYIBiHsqcWrhFKrzsM+AANSAHP55VZC5ZfXENmVkCHW0aI0/3Jz9yoMwlAYhtGhaAVRUOgP3Tqp0Pb+b66b73FxMHkX11KHh2hycvKRQpNQophFI/OuJqFopIwXHZ6EMp6NlecQJWys2OpqDlPCVlduPpThR+XSBZoPI+0gxaFKaAeNNOgchy2hQTfTMhUcsoSW6byevP0Mhyyhid1z5rMYDl+ycN7WcgggOFQJBz0t81fjOvhL3ivAGlaPicERHKqED2MiwVEbDl/yChmOmsCA4HAlXRyFgddMcIgSIhyfGAQeBIcuecZBqFjbBYcoYV3/bi7R6izH/gNF+nLYbwvIm+CQJaScYqL5LThMCfPUPXtctjzGvyTGZatsAWYchyTXtADz43yR8j83d24DAAgDMBBBiaBNw/5zskCS3h4B8Rb4NJ/8NdmFJ4TRpEmaWMyT72mCSk3i6omONRn4CGaYH4miQKQSMqFiE/GKnU4WjxPJN8LlAS+3ONBo5E51WRwagnTKS5/FUtUPqmBBYdEMlUS3dQtnkjC92dLTHN7w9U+YRQEnf3l3tqMgDAVg+Di1ZZNdqwgqqJG4xO28/7tN9KZkNIxbIx6/ByBpgHJBc35mQi3xKSNABfxDfsZQVvk9Y3LJDC6mM0qaznBvMuPW6QzAp5MkoBOJIJPtoBNSoZO2oRMbopN/ohPkopNIoxOto5MRpBN2pJPapBM/pZOjpRMIppNsphPRppM1JxSap5P+P39RFNbSspR2i6FigCalRMVyTHgx07FQSUvQRzBUtl4OL5R7W1TCBLQyM6yI3QBeJHBjrPA46PYzxKo04fA0nqRYJVegmdrmldF82nnqetP5CKtsAfqpx6CKLWbwoNmC/blWi0M9HS+mYneNDdwpGMxtfGwZOrZKhaVGADfKRZchvn0ZJ+0+w0sj6Yw3B6hx2IwdaSE2ZBknfBDhdSxyxTIweafyTnMzWAo3YnhdNODwRvnExzqxZRe+X9hWjHX8SQPO6Zb9Ap9S9EtoiKM3xAf53hEaxUyyEO8UutNmHqDci52FN7K6SYN+UF7RXglPhlgjlJ5YNfNOXFrve4bjZrvovGGdt65ol7mO0duvQYtfd5H1IskY13sAAAAASUVORK5CYII=",onClick:p(b.cancel,["stop"])},null,8,["onClick"])):r("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-fb7eda4d"]]);export{k as default};
