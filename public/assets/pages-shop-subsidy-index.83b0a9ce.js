import{f as e,r as t,E as a,n as o,o as s,c as l,w as r,i as n,a as i,u as d,G as u,b as p,d as c,F as m,e as g,j as v,I as f}from"./index-93e08a2b.js";import{_ as b}from"./n-input.81ae90a1.js";import{b as h,a as x,r as _}from"./uni-app.es.4a85af97.js";import{_ as y}from"./n-check-static.db256b0c.js";import{_ as k}from"./n-button.3162a993.js";import{_ as j,a as T}from"./n-waterfall.fb290c77.js";import{_ as w,a as C}from"./n-list.b9d584d3.js";import{_ as G}from"./uni-popup.3ddebe78.js";import{p as S}from"./pcToWeb.b1a5f010.js";import{b as L}from"./bulletinBoard.bc6e3929.js";import{g as P}from"./goodsClubCell.56a5ebb5.js";import{d as I,k as B,a as U,b as A,c as E,e as z}from"./shop.2af922b6.js";import{t as F}from"./util.84ba036b.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";import"./n-icon.3d1c4127.js";import"./props.e7779fd1.js";import"./usePager.62d200ee.js";import"./system.0fbb2200.js";import"./u-qrcode.710744ab.js";import"./n-bg-view.98391b2e.js";import"./z-image.699da878.js";/* empty css                                                                */const D=H({__name:"index",setup(H){const D=e("loginToken");let W=t(1),q=t([0]);const J=t([{value:0,text:"抖音商品(默认)",type:1},{value:1,text:"抖音商品(备份)",type:2},{value:2,text:"快手商品(默认)",type:1}]);let K=t(""),M=t(123);const N=t(null),O=t(null);function Q(){M.value=[],O.value&&O.value.clear(),uni.report("shopSubsidySearch","返利搜索"),W.value=1,$(!1)}let R=t(!1);function V(e){R.value=!0,uni.report("subsidyToDetalis","获取返利链接"),q.value[0]<2?D?(U(e,0).then((e=>{F(e.data.data.dy_deeplink)})),U(e,1).then((e=>{F(e.data.data.dy_deeplink)}))):f({title:"提示",content:"您还未登录,无法获得返利奖励",confirmText:"直接购买",cancelText:"立即登录",success:function(t){t.confirm?(A(e,0).then((e=>{F(e.data.data.dy_deeplink)})),A(e,1).then((e=>{F(e.data.data.dy_deeplink)}))):a({url:"/pages/user/login/phoneCodeLogin"})}}):D?E(e).then((e=>{F(e.data.data)})):f({title:"提示",content:"您还未登录,无法获得返利奖励",confirmText:"直接购买",cancelText:"立即登录",success:function(t){t.confirm?z(e).then((e=>{F(e.data.data)})):a({url:"/pages/user/login/phoneCodeLogin"})}})}function X(){Q()}let Y=t(null);function Z(e){e?Y.value.open("center"):Y.value.close()}function $(e){e&&W.value++,q.value[0]<2?I(K.value,W.value,J.value[q.value[0]].type).then((t=>{if(t.data.data.products){let a=[];for(let e=0;e<t.data.data.products.length;e++)a.push({goodsId:t.data.data.products[e].detail_url,promotionAmount:t.data.data.products[e].cos_fee,salesTip:t.data.data.products[e].sales,goodsImageUrl:t.data.data.products[e].cover,goodsTitle:t.data.data.products[e].title,zkGoodsPrice:t.data.data.products[e].price,goodsPrice:t.data.data.products[e].price});e?(M.value=M.value.concat(a),O.value.concat(a)):(M.value=a,O.value.clear(),O.value.set(a)),N.value.nEndSuccess(!0)}else N.value.nEndSuccess(!1)})):B(K.value,W.value).then((t=>{t.data.data.itemList.length?(e?(M.value=M.value.concat(t.data.data.itemList),O.value.concat(t.data.data.itemList)):(M.value=t.data.data.itemList,O.value.clear(),O.value.set(t.data.data.itemList)),N.value.nEndSuccess(!0)):N.value.nEndSuccess(!1)}))}return h((()=>{a({url:"/pages/user/order/subsidy"})})),x((e=>{e.goods&&(K.value=e.goods,o((()=>{Q()})))})),(e,t)=>{const a=_(v("n-input"),b),o=_(v("n-check-static"),y),f=_(v("n-button"),k),h=n,x=_(v("n-waterfall-view"),j),I=_(v("n-waterfall"),T),B=_(v("n-list-cell"),w),U=_(v("n-list"),C),A=_(v("uni-popup"),G);return s(),l(h,{class:""},{default:r((()=>[i(h,{class:"header"},{default:r((()=>[i(a,{valueStyle:"height:182rpx;",valueAlign:"center",value:d(K),"onUpdate:value":t[0]||(t[0]=e=>u(K)?K.value=e:K=e),height:"l",placeholder:"请输入商品名称",space:"20rpx",boxStyle:"padding-left:10rpx;padding-right:10rpx;border-bottom:1px solid #c5c3c3;margin-bottom:32rpx;"},null,8,["value"]),i(o,{class:"n-ms-bottom-base",onChange:X,limits:1,valueLabel:"value",textLabel:"text",value:d(q),"onUpdate:value":t[1]||(t[1]=e=>u(q)?q.value=e:q=e),icon:"circle",checkedIcon:"check-solid",items:J.value,direction:"right",isBetween:!0,itemBoxStyle:"background-color:#F5F7F9;padding-left:32rpx;padding-right:32rpx;",boxStyle:"border-radius:16rpx;overflow:hidden;"},null,8,["value","items"]),i(f,{class:"n-ms-bottom-base",onButtonClicked:Q,bgType:"error",textType:"inverse",border:"none",text:"搜索返利信息"}),i(f,{class:"n-ms-bottom-base",onButtonClicked:t[2]||(t[2]=e=>Z(!0)),bgType:"error",textType:"inverse",border:"none",text:"使用说明"})])),_:1}),123!=d(M)?(s(),l(I,{key:0,noMoreText:"没有更多了,请更换搜索词后重试",sameHeight:!0,height:"window",down:null,onUp:t[3]||(t[3]=e=>$(!0)),ref_key:"ins",ref:N,bgType:"inverse",columnCount:2,leftGap:"20rpx",rightGap:"20rpx",columnGap:"10rpx"},{default:r((()=>[i(x,{sameHeight:!0,ref_key:"water",ref:O,leftGap:"20rpx",rightGap:"20rpx",columnGap:"10rpx"},{left:r((({lefts:e})=>[(s(!0),p(m,null,c(e,((e,t)=>(s(),l(P,{onClick:t=>V(e.goodsId),members:[],tags:"返还"+e.promotionAmount/100+"元,销量:"+e.salesTip,cover:e.goodsImageUrl,name:e.goodsTitle,sale:e.zkGoodsPrice/100,price:e.goodsPrice/100},null,8,["onClick","tags","cover","name","sale","price"])))),256))])),right:r((({rights:e})=>[(s(!0),p(m,null,c(e,((e,t)=>(s(),l(P,{onClick:t=>V(e.goodsId),members:[],tags:"返还"+e.promotionAmount/100+"元,销量:"+e.salesTip,cover:e.goodsImageUrl,name:e.goodsTitle,sale:e.zkGoodsPrice/100,price:e.goodsPrice/100},null,8,["onClick","tags","cover","name","sale","price"])))),256))])),_:1},512)])),_:1},512)):(s(),p(m,{key:1},[],64)),d(R)?(s(),l(S,{key:2,redirectUrl:"pages/shop/subsidy/index"})):g("",!0),i(A,{ref_key:"popup",ref:Y,"background-color":"#fff"},{default:r((()=>[i(h,null,{default:r((()=>[i(U,{style:{height:"888rpx"},down:null,up:null},{default:r((()=>[i(B,null,{default:r((()=>[i(L,{title:"福利说明",description:"通过购物后返现的方式本工具能让您以市场底价购买到心仪的商品<br><br>比如您购买商品花了29元,我们将在您收货后返还您20元,实际只花了9元<br><br>搜索您想要购买的商品，选择一个跳转到官方商城购买，购买后即可领取返利"})])),_:1}),i(B,null,{default:r((()=>[i(L,{title:"为什么要用本工具",description:"1.所有商品都来自官方旗舰店的正品,或许你在其他地方也看到了同款商品低价销售,但都是来自个人店铺,没有质量保证,并且购买次数有限,比如只能买3次.而我们APP无限买<br><br>2.或许你在其他应用也有类似返利的,但是我们的工具返的比他们多!有多少返多少,而不像他们返一点点."})])),_:1}),i(B,null,{default:r((()=>[i(L,{title:"搜索不到怎么办",description:"1.增加关键词,比如搜索笔记本电脑,商品名称不能只有笔记本三个字还得加上电脑更加精确.<br><br>2.减少关键词,搜索gtneo5,因为有些标题gt是和neo5分开的.所以会失败,咱们就可以省略gt<br><br>3.切换搜索线路,选择备份线路再搜索一次."})])),_:1})])),_:1}),i(f,{class:"n-ms-bottom-base",onButtonClicked:t[4]||(t[4]=e=>Z(!1)),bgType:"error",textType:"inverse",border:"none",text:"关闭"})])),_:1})])),_:1},512)])),_:1})}}},[["__scopeId","data-v-34bc3da1"]]);export{D as default};
