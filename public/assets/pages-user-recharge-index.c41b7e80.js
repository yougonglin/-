import{r as e,B as t,ay as a,s as r,o as n,c as i,w as l,i as s,a as o,x as p,y as d,u as c,G as u,b as m,F as g,az as f,h as x,aA as h,f as b,Z as y,aB as v,A as _,j as T}from"./index-93e08a2b.js";import{_ as j}from"./n-tabs-h.5c030a13.js";import{a as w,r as S}from"./uni-app.es.4a85af97.js";import{_ as U}from"./n-tag-group.1b61e480.js";import{_ as B}from"./n-input.81ae90a1.js";import{_ as C}from"./n-button.3162a993.js";import{p as L}from"./pcToWeb.b1a5f010.js";import{a as R,b as k}from"./util.84ba036b.js";import{b as H}from"./bulletinBoard.bc6e3929.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import"./n-badge.17d08f78.js";import"./props.e7779fd1.js";import"./system.0fbb2200.js";import"./n-icon.3d1c4127.js";import"./u-qrcode.710744ab.js";import"./n-bg-view.98391b2e.js";const A=z({__name:"index",setup(z){let A=e(10),I=e(0),P=e([10]);const E=e([{title:"10元",price:10},{title:"50元",price:50},{title:"100元",price:100},{title:"500元",price:500},{title:"1000元",price:1e3},{title:"5000元",price:5e3},{title:"10000元",price:1e4},{title:"50000元",price:5e4},{title:"100000元",price:1e5}]);let M=e(""),O=t({data:{}});function Q(e){I.value=e}function W(){A.value=P.value[0]}function F(e){if(I.value)f(A.value).then((e=>{x({title:e.data.data,icon:"none"})}));else{let t=h(),a=b("oaid");if(R())return void(location.href=k(y.HTTP_REQUEST_URL,A.value));v(A.value,t.platform,a,e).then((t=>{if("wx"==e){let e="https://shop.jiechurenlei.com/redirect.html#"+encodeURIComponent(t.data.h5_url);location.href=e}else{let e="alipays://platformapi/startapp?appId=20000067&url="+encodeURIComponent(y.HTTP_REQUEST_URL+"/freeze.html#"+encodeURIComponent(t.data));location.href=e}}))}}return w((()=>{a().then((e=>{O.data=e.data.data,r("userBaseInfo",JSON.stringify(e.data.data))})).catch((e=>{console.log(e)}))})),(e,t)=>{const a=_,r=s,f=S(T("n-tabs-h"),j),x=S(T("n-tag-group"),U),h=S(T("n-input"),B),b=S(T("n-button"),C);return n(),i(r,{class:""},{default:l((()=>[o(r,{class:"header n-flex-row n-justify-center n-align-center"},{default:l((()=>[o(r,{class:"n-flex-column"},{default:l((()=>[o(a,{class:"n-text-align-center n-color-white n-size-ss n-weight-5"},{default:l((()=>[p("我的余额")])),_:1}),o(r,{class:"n-flex-row n-align-center n-justify-center",style:{"margin-top":"38rpx"}},{default:l((()=>[o(a,{class:"n-text-align-center n-color-white n-size-base n-weight-8"},{default:l((()=>[p("￥")])),_:1}),o(a,{class:"n-text-align-center n-color-white n-size-ll n-weight-8"},{default:l((()=>[p(d(c(O).data.yue_num),1)])),_:1})])),_:1})])),_:1})])),_:1}),o(f,{tabsStyle:"width: 100% !important;width:750rpx;",class:"pc-tabs-h",justify:"center",isTap:!0,delay:50,value:c(I),items:["余额充值","金币导入"],width:"250",indicatorWidth:"250rpx",indicatorHeight:"6rpx",onChange:Q,indicatorType:"error",activeTextType:"error"},null,8,["value"]),o(r,{class:"card"},{default:l((()=>[c(I)?(n(),i(r,{key:0,class:"n-text-align-center"},{default:l((()=>[o(a,{class:"n-text-align-center"},{default:l((()=>[p("可用金币："+d(c(O).data.jinbi_num),1)])),_:1})])),_:1})):(n(),i(x,{key:1,leastOne:!0,onChange:W,tagStyle:"padding-top:28rpx;padding-bottom:28rpx;",value:c(P),"onUpdate:value":t[0]||(t[0]=e=>u(P)?P.value=e:P=e),limits:1,column:3,items:E.value,textLabel:"title",valueLabel:"price",disabledLabel:"disabled",bgType:"none",tagSelectedBgType:"error",tagSelectedTextType:"inverse",tagSpace:"8rpx",tagHeight:"l"},null,8,["value","items"])),o(r,{class:"n-flex-row n-justify-center n-align-center n-ms-ll",style:{"margin-top":"32rpx",border:"1px solid gainsboro","border-radius":"26rpx"}},{default:l((()=>[o(a,{class:"n-weight-8 n-size-ll"},{default:l((()=>[p("￥")])),_:1}),o(h,{valueStyle:"height:182rpx;",value:c(A),"onUpdate:value":t[1]||(t[1]=e=>u(A)?A.value=e:A=e),mode:"number",height:"l",placeholder:"输入充值金额",space:"20rpx",boxStyle:"padding-left:10rpx;padding-right:10rpx;width:288rpx;",valueAlign:"center"},null,8,["value"])])),_:1}),c(I)?(n(),i(b,{key:2,onButtonClicked:F,bgType:"error",textType:"inverse",border:"none",text:"立即兑换",style:{"margin-top":"32rpx"}})):(n(),m(g,{key:3},[o(b,{onButtonClicked:F,bgType:"error",textType:"inverse",border:"none",text:"支付宝充值",style:{"margin-top":"32rpx"}}),o(b,{onButtonClicked:t[2]||(t[2]=e=>F("wx")),bgType:"error",textType:"inverse",border:"none",text:"微信充值",style:{"margin-top":"32rpx"}})],64))])),_:1}),o(H,{title:"充值说明",description:"充值前请确保手机安装了支付宝或微信APP<br><br>微信充值请选择用手机浏览器打开<br><br>电脑端需下载超新星APP进行充值"}),o(r,{innerHTML:c(M)},null,8,["innerHTML"]),o(L,{redirectUrl:"pages/user/recharge/index"})])),_:1})}}},[["__scopeId","data-v-de9b97df"]]);export{A as default};
